{"version":3,"sources":["component/Persons.js","component/PersonForm.js","component/Filter.js","component/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Persons","data","removeInfo","map","list","name","number","type","onClick","id","PersonForm","submitName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","Filter","searchQuery","handleSearchChange","foundPer","placeholder","per","Notification","message","className","text","baseUrl","axios","get","then","reponse","newObject","post","put","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearchQuery","setFoundPer","noti","setNoti","useEffect","phoneService","response","event","target","found","filter","el","toLowerCase","indexOf","preventDefault","listObj","foundId","find","newNum","msg","window","confirm","res","setTimeout","catch","error","p","concat","perName","perId","a","person","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.322d689a.chunk.js","sourcesContent":["\r\nconst Persons = ({data, removeInfo}) => {\r\n    return (\r\n        <div>\r\n          {data.map((list)=> (\r\n            <div key={list.id}>\r\n              <p>{list.name} {list.number} </p>\r\n              <button type='submit' onClick={() => {\r\n                removeInfo(list);\r\n              }}>delete</button>\r\n            </div>\r\n          ))}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons;","\r\nconst PersonForm = ({submitName, newName, handleNameChange, newNumber, handleNumberChange}) => {\r\n    return (\r\n        <form onSubmit={submitName}>\r\n            <div>\r\n                name: \r\n                <input \r\n                value={newName} \r\n                onChange={handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                number: \r\n                <input \r\n                value={newNumber} \r\n                onChange={handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">Add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm;","\r\nconst Filter = ({searchQuery, handleSearchChange, foundPer}) => {\r\n    return (\r\n        <div>\r\n            <p>\r\n            Filter shown with \r\n            <input value={searchQuery} \r\n            type=\"text\" \r\n            placeholder=\"Search...\" \r\n            onChange={handleSearchChange}/></p>\r\n          <div>\r\n            {foundPer.map(per => (\r\n              <div key={per.id}>\r\n                <p>{per.name} {per.number}</p>\r\n              </div>\r\n            ))}\r\n          </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Filter;","\r\nconst Notification = ({message}) => {\r\n    if(message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className={`noti noti_${message.type}`}>\r\n            {message.text}\r\n        </div>\r\n    )\r\n}\r\nexport default Notification;","import axios from \"axios\";\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(reponse => reponse.data)\r\n    \r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(reponse => reponse.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(reponse => reponse.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n    \r\n}\r\n\r\nexport default {\r\n    getAll, create, update, remove\r\n}","\nimport React, { useState, useEffect } from 'react'\nimport Persons from \"./component/Persons\"\nimport PersonForm from './component/PersonForm';\nimport Filter from \"./component/Filter\"\nimport Notification from './component/Notification'\nimport phoneService from './services/phonebook'\n\nconst App = () => {\n\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber] = useState('');\n  const [ searchQuery, setSearchQuery] = useState('');\n  const [ foundPer, setFoundPer] = useState([]);\n  const [ noti, setNoti] = useState(null);\n\n  // Fetch data\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  // Add name and update number\n  const submitName = (event) => { \n    event.preventDefault();\n    const listObj = {\n      name: newName,\n      number: newNumber\n    }\n    const foundId = persons.find(per => per.name === listObj.name)\n    if(foundId) {\n      const newNum = {...foundId, number: listObj.number} ;\n      const msg = listObj.name + ' is already added to phonebook, replace the old number with a new one?';\n      if(window.confirm(msg) === true) {\n        phoneService\n          .update(foundId.id, newNum)\n            .then(res => {\n              setPersons(persons.map(per => per.id !== foundId.id ? per : res));\n              setNewName('');\n              setNewNumber(''); \n              setNoti({\n                text: `Edited ${listObj.name}`,\n                type: \"noti\"\n              })\n              setTimeout(() => {\n                setNoti(null)\n              }, 5000)\n            })\n          .catch(error => {\n            setNoti({\n              text:`'${listObj.name}' was already deleted from server!`,\n              type: \"error\"\n            })\n            setPersons(persons.filter(p => p.id !== foundId.id))\n            setTimeout(() => {\n              setNoti(null)\n            }, 5000)\n          })\n      }\n    } else {\n    phoneService\n      .create(listObj)\n        .then(response => {\n          setNoti({\n            text: `'${listObj.name}' was successfully added to the phonebook!`,\n            type: \"noti\"\n          })\n          setTimeout(() => {\n            setNoti(null)\n          }, 5000)\n          setPersons(persons.concat(response));\n          setNewName('');\n          setNewNumber('');\n        })\n        .catch(error => {\n          setNoti(error.response.data);\n          setTimeout(() => {\n            setNoti(null);\n          }, 5000)   \n        })\n      }\n  } \n  \n  // Delete a number\n  const removeInfo = (per) => {\n    const perName = per.name\n    const perId = per.id\n    const message = 'Delete ' + perName + ' ?';\n    if(window.confirm(message) === true) {\n      phoneService\n        .remove(perId)\n          .then(a => {\n            setPersons(persons.filter(person => person.id !== perId))\n          })\n    }\n}\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value);\n  }\n\n  const handleSearchChange = (event) => {\n    setSearchQuery(event.target.value);\n    const found = persons.filter(el => el.name.toLowerCase().indexOf(searchQuery.toLowerCase()) !== -1);\n    setFoundPer(found);\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={noti} />\n      <Filter\n        searchQuery={searchQuery}\n        handleSearchChange={handleSearchChange}\n        foundPer={foundPer}\n       />\n      <h2> Add a new contact</h2>\n      <PersonForm \n        submitName={submitName}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n        />\n      <h2>Numbers</h2>\n        <Persons data={persons} removeInfo={removeInfo} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n\n"],"sourceRoot":""}